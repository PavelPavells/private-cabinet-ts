import React from 'react';
import { shallowEqual, useSelector } from 'react-redux';
import { PersonalCabinet } from '../../../../../store/store';
import Loader from '../../../../../__utils__/Spinner';

import './CompanyNews.scss';

const CompanyNews = () => {
    const { isFetching, main, news } = useSelector((state: PersonalCabinet) => state.main, shallowEqual);

    if (!isFetching && main && news) {
        return (
            <div className="company__news">
                <ul className="news__info">
                    {news.map((index) => {
                        return (
                            <div key={index.id}>
                                <li className="info__title">
                                    <span className="title__icon">
                                        <svg width="16" height="13" viewBox="0 0 16 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M10.4615 0.499221V10.1361C10.4615 10.5187 10.079 10.7586 9.77136 10.5691C8.14154 9.56533 6.5806 8.80399 5.08908 8.28437L4.86513 8.20875C4.86104 8.5779 4.87087 8.94594 4.89463 9.31291C4.91429 9.61658 4.93873 9.84807 4.97516 10.0854C5.00542 10.2825 5.03376 10.4334 5.12161 10.877C5.28334 11.6937 4.70763 12.45 3.88954 12.5998C3.83372 12.61 3.77741 12.6173 3.72086 12.6216C2.89905 12.6836 2.16206 12.1095 2.10881 11.287C2.10488 11.2263 2.10492 11.1653 2.10892 11.1046C2.13875 10.6521 2.14739 10.4984 2.15195 10.2986C2.15745 10.0581 2.15181 9.82521 2.13215 9.52153C2.09192 8.90026 2.01177 8.28192 1.89165 7.66635C1.87955 7.60433 1.87869 7.54257 1.88759 7.48355C1.40709 7.40783 0.920161 7.35001 0.427072 7.31013C0.186216 7.29065 0 7.07391 0 6.81306V3.82229C0 3.5573 0.191983 3.33862 0.437002 3.32454C1.91895 3.23933 3.46955 2.9152 5.08908 2.35098C6.71264 1.78535 8.27108 1.02524 9.7649 0.0702739C10.0726 -0.126409 10.4615 0.113096 10.4615 0.499221ZM2.83015 7.65104L2.84749 7.74398C2.94745 8.31081 3.01595 8.88018 3.05298 9.45199C3.0746 9.78591 3.08099 10.05 3.07475 10.3232C3.0697 10.5441 3.06057 10.7066 3.02967 11.1753C3.02874 11.1895 3.02873 11.2035 3.02964 11.2175C3.04447 11.4465 3.30986 11.6533 3.65647 11.6271C3.6829 11.6251 3.7092 11.6217 3.73522 11.6169C4.06948 11.5557 4.26198 11.3028 4.21895 11.0855C4.12794 10.6259 4.09797 10.4664 4.06451 10.2485C4.02313 9.97889 3.99542 9.71636 3.9738 9.38245C3.94253 8.89949 3.93373 8.41488 3.94738 7.92866C3.57984 7.82658 3.20769 7.73612 2.83167 7.65702L2.83015 7.65104ZM12.4521 7.76185L12.4865 7.7968L14.1926 9.71312C14.3693 9.91156 14.3636 10.2271 14.1798 10.4179C14.0076 10.5968 13.74 10.6025 13.5617 10.439L13.5273 10.4041L11.8212 8.48777C11.6445 8.28933 11.6502 7.97378 11.834 7.78298C12.0062 7.6041 12.2738 7.59835 12.4521 7.76185ZM9.53846 1.35724C8.1993 2.15118 6.81052 2.79876 5.37246 3.29976C4.43369 3.62682 3.51465 3.87721 2.6154 4.05074L2.61583 6.60015C3.55694 6.77809 4.47586 7.02323 5.37246 7.33559C6.71362 7.80283 8.10216 8.45439 9.53846 9.28981V1.35724ZM1.69254 4.20278C1.43437 4.23791 1.17788 4.2665 0.923077 4.28855V6.35498C1.18118 6.38126 1.43771 6.41231 1.69267 6.44815L1.69254 4.20278ZM15.5385 4.65306C15.7934 4.65306 16 4.87623 16 5.15152C16 5.42681 15.7934 5.64998 15.5385 5.64998H13.0769C12.822 5.64998 12.6154 5.42681 12.6154 5.15152C12.6154 4.87623 12.822 4.65306 13.0769 4.65306H15.5385ZM14.1798 0.139912C14.3636 0.330718 14.3693 0.646265 14.1926 0.844706L12.4865 2.76102C12.3099 2.95947 12.0177 2.96565 11.834 2.77485C11.6502 2.58404 11.6445 2.2685 11.8212 2.07005L13.5273 0.153737C13.7039 -0.0447045 13.9961 -0.0508943 14.1798 0.139912Z"
                                                fill="#1D68D9"
                                            />
                                        </svg>
                                    </span>
                                    <span className="title__date">{index.newDate}</span>
                                    <span className="title__info">{index.newBody}</span>
                                </li>
                            </div>
                        );
                    })}
                </ul>
            </div>
        );
    }
    return <Loader />;
};

export default CompanyNews;
