/**
 * ********** Импорт основных библиотек из NPM **********
 * */
import React, { useEffect } from 'react';
import { Link } from 'react-router-dom';
import { shallowEqual, useSelector, useDispatch } from 'react-redux';
import { CircularProgressbar } from 'react-circular-progressbar';

/**
 * ********** Импорт экшенов **********
 * */
import { fetchDataMain } from '../../../../actions/mainActions';
import { MainListReq } from '../../../../constants/mainTypes';

/**
 * ********** Импорт типа store **********
 * */
import { PersonalCabinet } from '../../../../store/store';

/**
 * ********** Импорт файлов стилей **********
 * */
import './Main.scss';
import 'react-circular-progressbar/dist/styles.css';

/**
 * ********** Импорт LOADER из __UTILS__ **********
 * */
import Loader from '../../../../__utils__/Spinner';

/**
 * Импорт компонентов
 */
import PreviewNews from './PreviewNews/PreviewNews';
import CompanyNews from './CompanyNews/CompanyNews';
import PersonalOffer from './PersonalOffer/PersonalOffer';

const MainComponent = () => {
    /**
     * ********** Импорт состояния из Redux **********
     * */
    const { isFetching, main, table } = useSelector((state: PersonalCabinet) => state.main, shallowEqual);
    const { user } = useSelector((state: PersonalCabinet) => state.auth, shallowEqual);

    /**
     * Отправка действий для изменения на сервере
     * */
    const dispatch = useDispatch();

    /**
     * запрос данных с сервера
     * */
    useEffect(() => {
        const request: MainListReq = { uuid: user };
        dispatch(fetchDataMain(request));
    }, []);

    if (!isFetching && user && main && table) {
        return (
            <div className="main-content">
                <div className="main">
                    <div className="main__block news">
                        <div className="block-title">
                            <span>Актуальные новости</span>
                        </div>
                        <div className="block-container">
                            <PreviewNews />
                            <div className="block-element">
                                <CompanyNews />
                            </div>
                        </div>
                    </div>
                    <Link to="/news" className="more__offers">
                        Все новости
                    </Link>
                    {/*
                    <div className="main__block data">
                        <div className="block-title">
                            <span>Данные о компании</span>
                        </div>
                        <div className="block-container">
                            <div className="block-element">
                                <div className="block-element__icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 46 46">
                                        <path d="M27.7599 10.2988H30.9898C31.1828 10.2988 31.3397 10.142 31.3397 9.94891V6.72686C31.3397 6.53329 31.1828 6.37695 30.9898 6.37695H27.7599C27.5663 6.37695 27.4094 6.53381 27.4094 6.72686V9.94891C27.4094 10.142 27.5658 10.2988 27.7599 10.2988ZM28.1098 7.07729H30.6393V9.59848H28.1098V7.07729Z" />
                                        <path d="M37.3658 29.6612H40.5868C40.7799 29.6612 40.9372 29.5044 40.9372 29.3108V26.0809C40.9372 25.8878 40.7799 25.7305 40.5868 25.7305H37.3658C37.1728 25.7305 37.0154 25.8878 37.0154 26.0809V29.3108C37.0154 29.5044 37.1728 29.6612 37.3658 29.6612ZM37.7162 26.4313H40.2364V28.9604H37.7162V26.4313Z" />
                                        <path d="M43.8167 12.9045H34.5702V3.89982C35.4872 3.73405 36.1849 2.92985 36.1849 1.96565C36.1849 0.881838 35.303 0 34.2197 0H11.636C10.5527 0 9.67087 0.881838 9.67087 1.96565C9.67087 2.92985 10.3686 3.73405 11.2856 3.89982V12.9045H1.96513C0.881842 12.9045 0 13.7863 0 14.8696C0 15.8333 0.697711 16.6375 1.6147 16.8032V38.9925C1.6147 39.1861 1.77155 39.3429 1.96513 39.3429H11.6381C11.6381 39.3429 11.6386 39.3429 11.6391 39.3429H15.892C16.0751 43.045 19.144 46 22.8906 46C26.6373 46 29.7061 43.0445 29.8892 39.3429H34.1243C34.1306 39.3429 34.1363 39.3434 34.1432 39.3434H43.8156C44.0092 39.3434 44.166 39.1861 44.166 38.993V16.8032C45.083 16.6375 45.7802 15.8333 45.7802 14.8696C45.7812 13.7863 44.8999 12.9045 43.8167 12.9045ZM1.96513 16.1339C1.26794 16.1339 0.700856 15.5668 0.700856 14.8696C0.700856 14.1724 1.26794 13.6053 1.96513 13.6053H11.2856V16.1339H1.96513C1.96565 16.1339 1.96565 16.1339 1.96513 16.1339ZM2.31556 16.8342H11.2856V38.6421H2.31556V16.8342ZM22.8912 45.3002C19.4136 45.3002 16.5845 42.4705 16.5845 38.993C16.5845 35.5155 19.4136 32.6864 22.8912 32.6864C26.3687 32.6864 29.1983 35.516 29.1983 38.993C29.1983 42.4705 26.3687 45.3002 22.8912 45.3002ZM33.8698 13.2465C33.8693 13.2491 33.8693 13.2517 33.8693 13.2549C33.8693 13.2575 33.8693 13.2601 33.8698 13.2633V16.4759C33.8693 16.4785 33.8693 16.4817 33.8693 16.4843C33.8693 16.4869 33.8693 16.4901 33.8698 16.4927V38.6426H29.8898C29.7061 34.9411 26.6373 31.986 22.8912 31.986C19.1445 31.986 16.0756 34.9416 15.8926 38.6426H11.9864V3.9313H33.8698V13.2465ZM34.2103 3.23097H11.636C10.9383 3.23097 10.3712 2.66336 10.3712 1.96618C10.3712 1.26899 10.9383 0.701376 11.636 0.701376H34.2197C34.9054 0.701376 35.4845 1.28053 35.4845 1.96618C35.4845 2.6492 34.9096 3.22625 34.2276 3.23097C34.2224 3.23044 34.2161 3.23044 34.2103 3.23097ZM43.4662 38.6426H34.5702V16.8342H43.4662V38.6426ZM43.8167 16.1339H34.5702V13.6053H43.8167C44.5138 13.6053 45.0809 14.1724 45.0809 14.8696C45.0809 15.5668 44.5138 16.1339 43.8167 16.1339Z" />
                                        <path d="M27.7599 16.7594H30.9898C31.1828 16.7594 31.3397 16.6025 31.3397 16.4095V13.1795C31.3397 12.986 31.1828 12.8291 30.9898 12.8291H27.7599C27.5663 12.8291 27.4094 12.986 27.4094 13.1795V16.4095C27.4094 16.6025 27.5658 16.7594 27.7599 16.7594ZM28.1098 13.5294H30.6393V16.059H28.1098V13.5294Z" />
                                        <path d="M37.3658 36.1128H40.5868C40.7799 36.1128 40.9372 35.956 40.9372 35.7629V32.5409C40.9372 32.3478 40.7799 32.1904 40.5868 32.1904H37.3658C37.1728 32.1904 37.0154 32.3478 37.0154 32.5409V35.7629C37.0154 35.956 37.1728 36.1128 37.3658 36.1128ZM37.7162 32.8913H40.2364V35.4125H37.7162V32.8913Z" />
                                        <path d="M14.857 10.2988H18.0869C18.2805 10.2988 18.4368 10.142 18.4368 9.94891V6.72686C18.4368 6.53329 18.28 6.37695 18.0869 6.37695H14.857C14.6634 6.37695 14.5071 6.53381 14.5071 6.72686V9.94891C14.5066 10.142 14.6634 10.2988 14.857 10.2988ZM15.2069 7.07729H17.7365V9.59848H15.2069V7.07729Z" />
                                        <path d="M21.3167 29.6612H24.5387C24.7318 29.6612 24.8887 29.5044 24.8887 29.3108V26.0809C24.8887 25.8878 24.7318 25.7305 24.5387 25.7305H21.3167C21.1231 25.7305 20.9668 25.8878 20.9668 26.0809V29.3108C20.9668 29.5044 21.1236 29.6612 21.3167 29.6612ZM21.6671 26.4313H24.1883V28.9604H21.6671V26.4313Z" />
                                        <path d="M21.3167 23.2086H24.5387C24.7318 23.2086 24.8887 23.0517 24.8887 22.8581V19.6282C24.8887 19.4346 24.7318 19.2783 24.5387 19.2783H21.3167C21.1231 19.2783 20.9668 19.4352 20.9668 19.6282V22.8581C20.9668 23.0517 21.1236 23.2086 21.3167 23.2086ZM21.6671 19.9786H24.1883V22.5082H21.6671V19.9786Z" />
                                        <path d="M14.857 29.6612H18.0869C18.2805 29.6612 18.4368 29.5044 18.4368 29.3108V26.0809C18.4368 25.8878 18.28 25.7305 18.0869 25.7305H14.857C14.6634 25.7305 14.5071 25.8878 14.5071 26.0809V29.3108C14.5066 29.5044 14.6634 29.6612 14.857 29.6612ZM15.2069 26.4313H17.7365V28.9604H15.2069V26.4313Z" />
                                        <path d="M14.857 23.2086H18.0869C18.2805 23.2086 18.4368 23.0517 18.4368 22.8581V19.6282C18.4368 19.4346 18.28 19.2783 18.0869 19.2783H14.857C14.6634 19.2783 14.5071 19.4352 14.5071 19.6282V22.8581C14.5066 23.0517 14.6634 23.2086 14.857 23.2086ZM15.2069 19.9786H17.7365V22.5082H15.2069V19.9786Z" />
                                        <path d="M14.857 16.7594H18.0869C18.2805 16.7594 18.4368 16.6025 18.4368 16.4095V13.1795C18.4368 12.986 18.28 12.8291 18.0869 12.8291H14.857C14.6634 12.8291 14.5071 12.986 14.5071 13.1795V16.4095C14.5066 16.6025 14.6634 16.7594 14.857 16.7594ZM15.2069 13.5294H17.7365V16.059H15.2069V13.5294Z" />
                                        <path d="M21.3167 10.2988H24.5387C24.7318 10.2988 24.8887 10.142 24.8887 9.94891V6.72686C24.8887 6.53329 24.7318 6.37695 24.5387 6.37695H21.3167C21.1231 6.37695 20.9668 6.53381 20.9668 6.72686V9.94891C20.9668 10.142 21.1236 10.2988 21.3167 10.2988ZM21.6671 7.07729H24.1883V9.59848H21.6671V7.07729Z" />
                                        <path d="M37.3658 23.2086H40.5868C40.7799 23.2086 40.9372 23.0517 40.9372 22.8581V19.6282C40.9372 19.4346 40.7799 19.2783 40.5868 19.2783H37.3658C37.1728 19.2783 37.0154 19.4352 37.0154 19.6282V22.8581C37.0154 23.0517 37.1728 23.2086 37.3658 23.2086ZM37.7162 19.9786H40.2364V22.5082H37.7162V19.9786Z" />
                                        <path d="M21.3167 16.7594H24.5387C24.7318 16.7594 24.8887 16.6025 24.8887 16.4095V13.1795C24.8887 12.986 24.7318 12.8291 24.5387 12.8291H21.3167C21.1231 12.8291 20.9668 12.986 20.9668 13.1795V16.4095C20.9668 16.6025 21.1236 16.7594 21.3167 16.7594ZM21.6671 13.5294H24.1883V16.059H21.6671V13.5294Z" />
                                        <path d="M27.7599 29.6612H30.9898C31.1828 29.6612 31.3397 29.5044 31.3397 29.3108V26.0809C31.3397 25.8878 31.1828 25.7305 30.9898 25.7305H27.7599C27.5663 25.7305 27.4094 25.8878 27.4094 26.0809V29.3108C27.4094 29.5044 27.5658 29.6612 27.7599 29.6612ZM28.1098 26.4313H30.6393V28.9604H28.1098V26.4313Z" />
                                        <path d="M27.7599 23.2086H30.9898C31.1828 23.2086 31.3397 23.0517 31.3397 22.8581V19.6282C31.3397 19.4346 31.1828 19.2783 30.9898 19.2783H27.7599C27.5663 19.2783 27.4094 19.4352 27.4094 19.6282V22.8581C27.4094 23.0517 27.5658 23.2086 27.7599 23.2086ZM28.1098 19.9786H30.6393V22.5082H28.1098V19.9786Z" />
                                        <path d="M8.41612 32.1904H5.19564C5.00207 32.1904 4.84521 32.3478 4.84521 32.5409V35.7629C4.84521 35.956 5.00207 36.1128 5.19564 36.1128H8.41612C8.60969 36.1128 8.76654 35.956 8.76654 35.7629V32.5409C8.76654 32.3478 8.60969 32.1904 8.41612 32.1904ZM8.06622 35.4125H5.54607V32.8913H8.06622V35.4125Z" />
                                        <path d="M8.41612 19.2783H5.19564C5.00207 19.2783 4.84521 19.4352 4.84521 19.6282V22.8581C4.84521 23.0517 5.00207 23.2086 5.19564 23.2086H8.41612C8.60969 23.2086 8.76654 23.0517 8.76654 22.8581V19.6282C8.76654 19.4352 8.60969 19.2783 8.41612 19.2783ZM8.06622 22.5082H5.54607V19.9786H8.06622V22.5082Z" />
                                        <path d="M8.41612 25.7305H5.19564C5.00207 25.7305 4.84521 25.8878 4.84521 26.0809V29.3108C4.84521 29.5044 5.00207 29.6612 5.19564 29.6612H8.41612C8.60969 29.6612 8.76654 29.5044 8.76654 29.3108V26.0809C8.76654 25.8878 8.60969 25.7305 8.41612 25.7305ZM8.06622 28.9604H5.54607V26.4313H8.06622V28.9604Z" />
                                    </svg>
                                </div>
                                <div className="block-element__info">
                                    <div className="block-element__title">
                                        <span>Наименование компании</span>
                                    </div>
                                    <div className="block-element__subtitle">
                                        <span>{main.companyName}</span>
                                    </div>
                                </div>
                            </div>
                            <div className="block-element">
                                <div className="block-element__icon">
                                    <svg viewBox="0 0 45 46" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M22.3798 20.9186C23.4117 20.9186 24.2514 20.0789 24.2514 19.047C24.2514 18.0152 23.4117 17.1758 22.3798 17.1758C21.348 17.1758 20.5083 18.0152 20.5083 19.047C20.5083 20.0789 21.348 20.9186 22.3798 20.9186ZM22.3798 18.3401C22.7698 18.3401 23.0871 18.6573 23.0871 19.047C23.0871 19.437 22.7698 19.7543 22.3798 19.7543C21.9898 19.7543 21.6726 19.437 21.6726 19.047C21.6726 18.6573 21.9898 18.3401 22.3798 18.3401Z" />
                                        <path d="M0.12624 39.2003C0.236531 39.3393 0.404526 39.4206 0.582186 39.4206H13.6728C14.7557 43.2128 18.245 46 22.3798 46C26.5146 46 30.0039 43.2128 31.0867 39.4206H44.1774C44.355 39.4206 44.523 39.3393 44.6333 39.2003C44.7439 39.061 44.7848 38.8791 44.7442 38.706L38.9945 14.1014H41.042C41.3635 14.1014 41.6242 13.8407 41.6242 13.5192V10.2849C41.6242 9.96345 41.3635 9.70279 41.042 9.70279H26.5458V4.16605C26.5458 1.86898 24.6769 0 22.3798 0C20.0827 0 18.2137 1.86898 18.2137 4.16605V9.70279H3.71753C3.39604 9.70279 3.13537 9.96345 3.13537 10.2849V13.5192C3.13537 13.8407 3.39604 14.1014 3.71753 14.1014H5.76502L0.0153799 38.706C-0.0252686 38.8791 0.0156642 39.061 0.12624 39.2003ZM22.3798 44.8357C18.0256 44.8357 14.4832 41.293 14.4832 36.9388C14.4832 32.5845 18.0256 29.0421 22.3798 29.0421C26.734 29.0421 30.2764 32.5845 30.2764 36.9388C30.2764 41.293 26.734 44.8357 22.3798 44.8357ZM26.5458 10.8671H40.4599V12.9371H38.2606H26.5458V10.8671ZM19.378 10.2878C19.378 10.2868 19.3786 10.2859 19.3786 10.2849C19.3786 10.284 19.378 10.2831 19.378 10.2821V4.16605C19.378 2.51083 20.7246 1.16431 22.3798 1.16431C24.035 1.16431 25.3815 2.51083 25.3815 4.16605V19.3755C25.3815 21.0307 24.035 22.3772 22.3798 22.3772C20.7246 22.3772 19.378 21.0307 19.378 19.3755V10.2878ZM4.29969 12.9371V10.8671H18.2137V12.9371H6.49897H4.29969ZM6.96071 14.1014H18.2137V19.3755C18.2137 21.6725 20.0827 23.5415 22.3798 23.5415C24.6769 23.5415 26.5458 21.6725 26.5458 19.3755V14.1014H37.7989L43.4434 38.2563H31.3338C31.3971 37.825 31.4407 37.3874 31.4407 36.9388C31.4407 31.9427 27.3759 27.8778 22.3798 27.8778C17.3837 27.8778 13.3188 31.9427 13.3188 36.9388C13.3188 37.3874 13.3625 37.825 13.4258 38.2563H1.31614L6.96071 14.1014Z" />
                                        <path d="M26.6118 35.1778L24.4759 34.8674C24.3588 34.8506 24.1587 34.7051 24.1066 34.5993L23.1515 32.6641C22.9841 32.3253 22.703 32.1309 22.3798 32.1309C22.0566 32.1309 21.7755 32.3253 21.608 32.6641L20.6529 34.5993C20.6009 34.7051 20.4008 34.8506 20.2837 34.8674L18.1478 35.1778C17.774 35.2324 17.5022 35.4396 17.4025 35.7469C17.3027 36.0544 17.4005 36.3819 17.6711 36.6457L19.2169 38.1523C19.3013 38.2344 19.3775 38.4698 19.3576 38.586L18.9926 40.7134C18.9289 41.0858 19.0423 41.4084 19.3038 41.5983C19.44 41.6972 19.5978 41.7467 19.7652 41.7467C19.919 41.7467 20.081 41.7046 20.2413 41.6205L22.1515 40.6162C22.2558 40.561 22.5031 40.561 22.608 40.6162L24.5182 41.6205C24.8531 41.7961 25.1945 41.7887 25.4557 41.5983C25.7172 41.4084 25.8306 41.0858 25.767 40.7134L25.402 38.586C25.3821 38.4698 25.4583 38.2344 25.543 38.1523L27.0882 36.6457C27.3588 36.3819 27.4569 36.0544 27.3571 35.7472C27.2573 35.4399 26.9856 35.2324 26.6118 35.1778ZM24.7303 37.3182C24.3693 37.6699 24.1692 38.2859 24.2542 38.7827L24.5151 40.3032L23.1498 39.5855C22.9267 39.4684 22.6532 39.4095 22.3798 39.4095C22.1063 39.4095 21.8329 39.4684 21.6097 39.5855L20.2444 40.3032L20.5054 38.7827C20.5904 38.2859 20.3903 37.6699 20.0296 37.3182L18.9249 36.2415L20.4514 36.0198C20.9503 35.9473 21.4741 35.5664 21.6973 35.1144L22.3798 33.7315L23.0623 35.1144C23.2854 35.5664 23.8093 35.9473 24.3082 36.0198L25.8346 36.2415L24.7303 37.3182ZM26.2761 35.8123C26.2772 35.8106 26.2783 35.8091 26.2795 35.8077L26.682 36.2287L26.2761 35.8123Z" />
                                    </svg>
                                </div>
                                <div className="block-element__info">
                                    <div className="block-element__title">
                                        <span>Зарегистрированный торговый партнер</span>
                                    </div>
                                    <div className="block-element__subtitle">
                                        <span>{main.registrationDate}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    */}
                    <div className="main__block status">
                        {/* <div className="block-title">
                            <span>Статус</span>
                        </div> */}
                        <div className="block-container">
                            <div className="block-element">
                                <div className="block-element__icon">
                                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M11.1065 34.071C11.4405 33.904 11.6075 33.6534 11.6075 33.3194V19.8747C11.6075 19.5407 11.4405 19.2067 11.1065 19.1232C9.68685 18.5386 8.10021 18.3716 6.59708 18.6221V14.7808C6.68058 7.51566 12.5261 1.67015 19.7912 1.67015C27.0564 1.67015 32.9019 7.51566 32.9019 14.7808V18.6221C31.3987 18.3716 29.8956 18.5386 28.3925 19.1232C28.0585 19.2902 27.8914 19.5407 27.8914 19.8747V33.2359C27.6409 33.904 26.3048 37.4113 22.2964 37.3278C22.2964 37.3278 22.2964 37.3278 22.2964 37.2443C22.2964 35.7411 21.0438 34.4885 19.5407 34.4885C18.0376 34.4885 16.785 35.7411 16.785 37.2443C16.785 38.7474 18.0376 40 19.5407 40C20.4593 40 21.2109 39.5825 21.7119 38.9144C25.3027 39.1649 27.9749 37.1608 29.2276 34.3215C34.4885 35.9916 39.5825 31.9833 39.5825 26.6388C39.5825 23.382 37.5783 20.3758 34.572 19.1232V14.7808C34.572 6.59708 27.9749 0 19.7912 0C11.6075 0 5.01044 6.59708 5.01044 14.6973V19.1232C2.00418 20.3758 0 23.2985 0 26.6388C0 32.2338 5.762 36.2422 11.1065 34.071ZM19.5407 38.3299C18.9562 38.3299 18.4551 37.8288 18.4551 37.2443C18.4551 36.6597 18.9562 36.1587 19.5407 36.1587C20.1253 36.1587 20.6263 36.6597 20.6263 37.2443C20.6263 37.8288 20.1253 38.3299 19.5407 38.3299ZM37.9123 26.5553C37.9123 30.8142 33.7369 33.9875 29.4781 32.7349V20.3758C33.6534 19.2067 37.9123 22.2129 37.9123 26.5553ZM10.1044 20.3758V32.6514C5.92902 33.9875 1.67015 30.8142 1.67015 26.5553C1.67015 22.2129 5.84551 19.2067 10.1044 20.3758Z"
                                            fill="#8B9298"
                                        />
                                    </svg>
                                </div>
                                <div className="block-element__info">
                                    <div className="block-element__title">
                                        <span>Персональный менеджер</span>
                                    </div>
                                    <div className="block-element__subtitle">
                                        <span className="subtitle__item">{main.leadManagerName}</span>
                                        <span className="subtitle__item">
                                            Тел.:&nbsp; &nbsp;
                                            {main.leadManagerPhone}
                                        </span>
                                        <span className="subtitle__item">
                                            E-mail:&nbsp; &nbsp;
                                            {main.leadManagerEmail}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div className="block-element">
                                <div className="block-element__icon">
                                    <svg width="45" height="46" viewBox="0 0 45 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M0.126241 39.2005C0.236534 39.3398 0.404531 39.4211 0.582193 39.4211H13.6731C14.7561 43.2129 18.2454 46 22.3801 46C26.5148 46 30.004 43.2129 31.087 39.4211H44.1779C44.3556 39.4211 44.5236 39.3398 44.6339 39.2005C44.7445 39.0618 44.7854 38.8793 44.7447 38.7065L38.995 14.101H41.0425C41.364 14.101 41.6247 13.8406 41.6247 13.5188V10.2845C41.6247 9.96272 41.364 9.70234 41.0425 9.70234H26.5462V4.16611C26.5462 1.86872 24.6772 0 22.3801 0C20.083 0 18.214 1.86872 18.214 4.16611V9.70234H3.71758C3.39608 9.70234 3.13541 9.96272 3.13541 10.2845V13.5188C3.13541 13.8406 3.39608 14.101 3.71758 14.101H5.7651L0.0153801 38.7065C-0.025269 38.8793 0.0156644 39.0618 0.126241 39.2005ZM22.3801 44.8357C18.0258 44.8357 14.4833 41.2932 14.4833 36.9389C14.4833 32.5847 18.0258 29.0422 22.3801 29.0422C26.7343 29.0422 30.2768 32.5847 30.2768 36.9389C30.2768 41.2932 26.7343 44.8357 22.3801 44.8357ZM26.5462 10.8667H40.4604V12.9366H38.2611H26.5462V10.8667ZM19.3783 10.2873C19.3783 10.2863 19.3788 10.2855 19.3788 10.2845C19.3788 10.2835 19.3783 10.2827 19.3783 10.2817V4.16611C19.3783 2.51115 20.7248 1.16433 22.3801 1.16433C24.0353 1.16433 25.3818 2.51115 25.3818 4.16611V19.3757C25.3818 21.0307 24.0353 22.3775 22.3801 22.3775C20.7248 22.3775 19.3783 21.0307 19.3783 19.3757V10.2873ZM4.29974 12.9366V10.8667H18.214V12.9366H6.49905H4.29974ZM6.9608 14.101H18.214V19.3757C18.214 21.6731 20.083 23.5418 22.3801 23.5418C24.6772 23.5418 26.5462 21.6731 26.5462 19.3757V14.101H37.7993L43.444 38.2568H31.3341C31.3974 37.8253 31.4411 37.3876 31.4411 36.9389C31.4411 31.9428 27.3762 27.8779 22.3801 27.8779C17.3839 27.8779 13.319 31.9428 13.319 36.9389C13.319 37.3876 13.3627 37.8253 13.426 38.2568H1.31615L6.9608 14.101Z"
                                            fill="#8B9298"
                                        />
                                    </svg>
                                </div>
                                <div className="block-element__info">
                                    <div className="block-element__title">
                                        <span>Объем учетных закупок для расчета скидки</span>
                                    </div>
                                    <div className="block-element__subtitle">
                                        <span className="currency-unit-rub">{main.currentCash}</span>
                                    </div>
                                </div>
                            </div>
                            <div className="block-table">
                                <div className="block-table__row header">
                                    <div className="block-table__element">
                                        <span className="currency-unit-rub">Объем закупок,</span>
                                    </div>
                                    <div className="block-table__element">
                                        <span>Скидка</span>
                                    </div>
                                    <div className="block-table__element">
                                        <span>Условия получения скидки</span>
                                    </div>
                                </div>
                                {table.map((index) => {
                                    return (
                                        <div key={index.rowNum} className="block-table__row">
                                            <div className="block-table__element">
                                                <span className="currency-unit-rub">{index.volume}</span>
                                            </div>
                                            <div className="block-table__element">
                                                <span>{index.discountSum}</span>
                                            </div>
                                            <div className="block-table__element">
                                                {index.conditions === 0 ? (
                                                    <div className="sale-conditions">
                                                        <span>Выполнено</span>
                                                        <div className="performed">
                                                            <svg viewBox="0 0 14 10">
                                                                <path
                                                                    d="M12.885 0a.951.951 0 00-.654.29C9.87 2.658 7.343 5.369 4.984 7.76L1.617 4.988A.951.951 0 10.413 6.452l4.043 3.33a.951.951 0 001.279-.06c2.556-2.562 5.33-5.563 7.848-8.086A.951.951 0 0012.885 0z"
                                                                    fill="#20CD32"
                                                                />
                                                            </svg>
                                                        </div>
                                                    </div>
                                                ) : (
                                                    <div className="sale-conditions">
                                                        <span>Не выполнено</span>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                            <div className="block-element discount">
                                <div className="block-element__chart">
                                    <CircularProgressbar
                                        minValue={15}
                                        maxValue={33}
                                        value={Number(main.currentDiscount)}
                                        text={`${main.currentDiscount}%`}
                                    />
                                </div>
                                <div className="block-element__info">
                                    <div className="block-element__title">
                                        <span>Текущая скидка от CARDDEX</span>
                                    </div>
                                    <div className="block-element__subtitle">
                                        <span className="currency-unit-rub">Размер скидки партнера может отличаться</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <PersonalOffer />
                </div>
            </div>
        );
    }
    return <Loader />;
};

export default MainComponent;
